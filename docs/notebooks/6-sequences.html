<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Prof.&nbsp;Dr.&nbsp;Maik Weber">

<title>8&nbsp; Datenstrukturen in Python – Programmierung für Ingenieurinnen und Ingenieure</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../notebooks/7-bibs.html" rel="next">
<link href="../notebooks/5-functions.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-a185852c63625fd9ffbdc57047c9a77e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-20d4060cc67bd9191ed65a16e0597eba.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script>


<link rel="stylesheet" href="../style.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../notebooks/6-sequences.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Datenstrukturen in Python</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Suchen" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../logo.jpg" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Programmierung für Ingenieurinnen und Ingenieure</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Vorwort</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/0-einleitung.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Einleitung</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/1-prep.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Vorbereitungen</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/2-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Einführung ins Programmieren</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/3-datatypes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Datentypen und ihre Repräsentation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/4-controls.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Kontrollstrukturen</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/5-functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Funktionen</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/6-sequences.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Datenstrukturen in Python</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/7-bibs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Die Verwendung von Bibliotheken</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/8-oop.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Objektorientierte Programmierung (OOP)</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#ein-sensor-speichert-stündlich-temperaturdaten-anwendung-der-liste" id="toc-ein-sensor-speichert-stündlich-temperaturdaten-anwendung-der-liste" class="nav-link active" data-scroll-target="#ein-sensor-speichert-stündlich-temperaturdaten-anwendung-der-liste"><span class="header-section-number">8.1</span> Ein Sensor speichert stündlich Temperaturdaten – Anwendung der Liste</a>
  <ul class="collapse">
  <li><a href="#speichern-der-daten" id="toc-speichern-der-daten" class="nav-link" data-scroll-target="#speichern-der-daten">Speichern der Daten</a></li>
  <li><a href="#sortieren-der-messungen" id="toc-sortieren-der-messungen" class="nav-link" data-scroll-target="#sortieren-der-messungen">Sortieren der Messungen</a></li>
  <li><a href="#werte-extrahieren---indexzugriff-und-list-slicing" id="toc-werte-extrahieren---indexzugriff-und-list-slicing" class="nav-link" data-scroll-target="#werte-extrahieren---indexzugriff-und-list-slicing">Werte extrahieren - Indexzugriff und List Slicing</a></li>
  </ul></li>
  <li><a href="#analyse-der-einzigartigen-messwerte-anwendung-des-sets" id="toc-analyse-der-einzigartigen-messwerte-anwendung-des-sets" class="nav-link" data-scroll-target="#analyse-der-einzigartigen-messwerte-anwendung-des-sets"><span class="header-section-number">8.2</span> Analyse der einzigartigen Messwerte – Anwendung des Sets</a></li>
  <li><a href="#hinzufügen-von-zeitstempeln-anwendung-des-dictionaries" id="toc-hinzufügen-von-zeitstempeln-anwendung-des-dictionaries" class="nav-link" data-scroll-target="#hinzufügen-von-zeitstempeln-anwendung-des-dictionaries"><span class="header-section-number">8.3</span> Hinzufügen von Zeitstempeln – Anwendung des Dictionaries</a></li>
  <li><a href="#speichern-einer-zweiten-messgröße---anwendung-des-tupels-engl.-tuple" id="toc-speichern-einer-zweiten-messgröße---anwendung-des-tupels-engl.-tuple" class="nav-link" data-scroll-target="#speichern-einer-zweiten-messgröße---anwendung-des-tupels-engl.-tuple"><span class="header-section-number">8.4</span> Speichern einer zweiten Messgröße - Anwendung des Tupels (engl.: tuple)</a></li>
  <li><a href="#daten-mehrerer-sensoren---verschachtelte-dictionaries" id="toc-daten-mehrerer-sensoren---verschachtelte-dictionaries" class="nav-link" data-scroll-target="#daten-mehrerer-sensoren---verschachtelte-dictionaries"><span class="header-section-number">8.5</span> Daten mehrerer Sensoren - verschachtelte Dictionaries</a></li>
  <li><a href="#exkurs-mutable-und-immutable-datentypen-in-python" id="toc-exkurs-mutable-und-immutable-datentypen-in-python" class="nav-link" data-scroll-target="#exkurs-mutable-und-immutable-datentypen-in-python"><span class="header-section-number">8.6</span> Exkurs: Mutable und immutable Datentypen in Python</a></li>
  <li><a href="#sicheres-kopieren-von-listen" id="toc-sicheres-kopieren-von-listen" class="nav-link" data-scroll-target="#sicheres-kopieren-von-listen"><span class="header-section-number">8.7</span> Sicheres Kopieren von Listen</a></li>
  <li><a href="#list-comprehensions" id="toc-list-comprehensions" class="nav-link" data-scroll-target="#list-comprehensions"><span class="header-section-number">8.8</span> List Comprehensions</a>
  <ul class="collapse">
  <li><a href="#syntax" id="toc-syntax" class="nav-link" data-scroll-target="#syntax">Syntax</a></li>
  <li><a href="#beispiele-aus-der-ingenieurpraxis" id="toc-beispiele-aus-der-ingenieurpraxis" class="nav-link" data-scroll-target="#beispiele-aus-der-ingenieurpraxis">Beispiele aus der Ingenieurpraxis</a></li>
  <li><a href="#performance" id="toc-performance" class="nav-link" data-scroll-target="#performance">Performance</a></li>
  <li><a href="#fazit-für-die-praxis" id="toc-fazit-für-die-praxis" class="nav-link" data-scroll-target="#fazit-für-die-praxis">Fazit für die Praxis</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Datenstrukturen in Python</span></h1>
</div>


<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Autor:in</div>
  <div class="quarto-title-meta-heading">Zugehörigkeit</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author">Prof.&nbsp;Dr.&nbsp;Maik Weber </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Hochschule Trier
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Veröffentlichungsdatum</div>
    <div class="quarto-title-meta-contents">
      <p class="date">30. Dezember 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<p><strong>Datenstrukturen</strong> und <strong>Datentypen</strong> sind zentrale Begriffe in der Informatik, die eng miteinander verbunden, aber dennoch voneinander zu unterscheiden sind:</p>
<ul>
<li><p>Datentypen beschreiben die Art und den Wertebereich von Daten, wie Zahlen (z. B. int, float), Zeichenketten (z. B. str) oder Wahrheitswerte (bool). Sie definieren die grundlegenden Eigenschaften eines Werts und wie dieser vom Computer verarbeitet wird. Damit haben wir uns bereits ausführlich beschäftigt.</p></li>
<li><p>Datenstrukturen hingegen organisieren mehrere Werte in einer bestimmten Weise, sodass sie effizient gespeichert und verarbeitet werden können. Sie kombinieren oft mehrere Datentypen, um komplexe Informationen abzubilden. Beispiele hierfür sind Listen, Dictionaries oder Sets in Python.</p></li>
</ul>
<p>Während Datentypen also die Bausteine sind, definieren Datenstrukturen den Bauplan, wie diese Bausteine miteinander in Beziehung stehen und verarbeitet werden. In diesem Kapitel fokussieren wir uns auf grundlegende Datenstrukturen und deren Anwendung in Python anhand eines praxisnahen Beispiels: der Organisation und Analyse von Sensordaten. Das Beispiel wird im Verlauf des Kapitels sukzessive komplexer und damit auch realistischer.</p>
<p>Sie sollen einen Eindruck davon gewinnen, wie verschiedene Datenstrukturen für bestimmte Fragstellungen und Anwendungen ihre Stärken ausspielen.</p>
<section id="ein-sensor-speichert-stündlich-temperaturdaten-anwendung-der-liste" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="ein-sensor-speichert-stündlich-temperaturdaten-anwendung-der-liste"><span class="header-section-number">8.1</span> Ein Sensor speichert stündlich Temperaturdaten – Anwendung der Liste</h2>
<p>Ein Sensor misst stündlich die Temperatur (z.B. in einem Raum oder einer Maschine). Diese Daten speichern wir der Reihe nach in einer Liste, einer der einfachsten Datenstrukturen. Die Liste ist ideal für lineares Speichern (Messwert für Messwert hintereinander). Sie ermöglicht den einfachen Zugriff auf Elemente anhand ihrer Position, stellt aber auch nützliche Funktionen zum Arbeiten mit den Daten bereit.</p>
<section id="speichern-der-daten" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="speichern-der-daten">Speichern der Daten</h3>
<div id="d59285c5-f25a-4451-8910-341f1b8e478c" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># eine Liste kann mit Werten initialisiert werden</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>temperatures <span class="op">=</span> [<span class="fl">22.5</span>, <span class="fl">23.1</span>, <span class="fl">21.8</span>]</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># es kann aber auch nach und nach ein Wert hinten angefügt werden:</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>temperatures.append(<span class="fl">24.0</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>temperatures.append(<span class="fl">22.5</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>temperatures.append(<span class="fl">21.8</span>)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperatures)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[22.5, 23.1, 21.8, 24.0, 22.5, 21.8]</code></pre>
</div>
</div>
<p>In der Praxis würde an einer bestimmten Stelle im Code (einmal pro Stunde) mithilfe von <code>append</code> der aktuelle Messwert in der Liste gespeichert werden. Auffällig ist, dass die Funktion <code>append</code> zu unserer Liste selbst gehört, beim Aufruf verwenden wir einen <code>.</code> zwischen der Referenz auf die Liste und der Funktion. Solche Funktionen werden auch <strong>Methoden</strong> genannt und sind ein wesentlicher Bestandteil der objektorientierten Programmierung: Die Instanz einer Liste bietet Benutzern diese Funktion an, um ihren Inhalt zu manipulieren.</p>
</section>
<section id="sortieren-der-messungen" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="sortieren-der-messungen">Sortieren der Messungen</h3>
<p>Sortieren hilft, die Werte geordnet darzustellen und z.B. das Finden des höchsten oder niedrigsten Messwerts zu erleichtern. Auch hierfür steht eine Methode bereit:</p>
<div id="aa8e68f7-c8fe-4907-8379-ab445fd08e65" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sortieren der Liste</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>temperatures.sort()</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Sortierte Temperaturen:"</span>, temperatures)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sortierte Temperaturen: [21.8, 21.8, 22.5, 22.5, 23.1, 24.0]</code></pre>
</div>
</div>
<p>Wir können nun direkt ablesen, dass der Wertebereich zwischen 21.8 und 24.0 liegt. Allerdings haben wir unsere Originalliste durch das Sortieren verändert! Das war womöglich gar nicht unsere Absicht, denn wir wollen weiterhin die Information besitzen, wann welcher Wert erhoben wurde. Für diesen Zweck gibt es eine Lösung: Anstelle der Methode <code>.sort()</code> verwenden wir die Funktion <code>sorted()</code>, die eine sortierte Liste zurückgibt <strong>ohne das Original zu verändern</strong>:</p>
<div id="eea3ae66-4fb6-4a02-9e7f-052f81c6eec8" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Wir stellen zunächst das Original wieder her</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>temperatures <span class="op">=</span> [<span class="fl">22.5</span>, <span class="fl">23.1</span>, <span class="fl">21.8</span>, <span class="fl">24.0</span>, <span class="fl">22.5</span>, <span class="fl">21.8</span>]</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>sorted_data <span class="op">=</span> <span class="bu">sorted</span>(temperatures)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Sortierte Liste: "</span>, sorted_data)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Original: "</span>, temperatures)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Sortierte Liste:  [21.8, 21.8, 22.5, 22.5, 23.1, 24.0]
Original:  [22.5, 23.1, 21.8, 24.0, 22.5, 21.8]</code></pre>
</div>
</div>
<p>Die implementierten Sortieralgorithmen sind übrigens sehr effizient (schneller als der früher vorgestellte Bubble Sort).</p>
</section>
<section id="werte-extrahieren---indexzugriff-und-list-slicing" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="werte-extrahieren---indexzugriff-und-list-slicing">Werte extrahieren - Indexzugriff und List Slicing</h3>
<p>Wir können auf die Werte in einer Liste ganz einfach über ihren Index zugreifen und dabei ist besonders nützlich, dass Python auch negative Indizes erlaubt: der Index -1 entspricht immer dem letzten Element, -2 dem vorletzten usw. Wir demonstrieren die Verwendung von Indizes:</p>
<div id="bee2f479-63a5-4512-85b3-57610e50093a" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"1. Messwert: "</span> , temperatures[<span class="dv">0</span>])</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Letzter Messwert: "</span> , temperatures[<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Min: "</span> , sorted_data[<span class="dv">0</span>])</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Max: "</span> , sorted_data[<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"5. Messwert: "</span> , temperatures[<span class="dv">4</span>])</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Vorletzter Messwert: "</span> , temperatures[<span class="op">-</span><span class="dv">2</span>])</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1. Messwert:  22.5
Letzter Messwert:  21.8
Min:  21.8
Max:  24.0
5. Messwert:  22.5
Vorletzter Messwert:  22.5</code></pre>
</div>
</div>
<p>Oft interessiert man sich für Bereiche von Messwerten und kann diese in Python sehr effizient mit sog. “List Slicing” <em>ausschneiden</em>: Hierfür verwendet man einen Start- und Endindex, getrennt durch ein <code>:</code>. Zu beachten ist, dass der Anfangsindex inkludiert wird, das Slicing aber einen Schritt vor dem Endindex aufhört:</p>
<div id="ea8e467e-d005-42ac-9e4d-6c5a3062407c" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Slicing: Werte gesucht ...</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ... mit Indizes: 0,1,2</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperatures[<span class="dv">0</span>:<span class="dv">3</span>])  </span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ... mit Indizes: 2,3,4</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperatures[<span class="dv">2</span>:<span class="dv">5</span>])  </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co"># ... mit Indizes: 1,2,3...,vorletztes</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperatures[<span class="dv">1</span>:<span class="op">-</span><span class="dv">1</span>])  </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[22.5, 23.1, 21.8]
[21.8, 24.0, 22.5]
[23.1, 21.8, 24.0, 22.5]</code></pre>
</div>
</div>
<p>Man kann auch Start- und Endindex weglassen und meint damit “von Anfang” oder “bis Ende”:</p>
<div id="71e7a400-63b4-4271-960e-c64a436a17e6" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Slicing: Werte gesucht ...</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># ... von Anfang bis Index 2</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperatures[:<span class="dv">3</span>]) </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># ... von Index 4 bis Schluss</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperatures[<span class="dv">4</span>:]) </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Die ganze Liste als großer Slice:</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperatures[:]) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[22.5, 23.1, 21.8]
[22.5, 21.8]
[22.5, 23.1, 21.8, 24.0, 22.5, 21.8]</code></pre>
</div>
</div>
<p>Python erlaubt sogar noch präzisere Analysen, indem es Schrittweiten beim Slicing zulässt. Die Schrittweite ist standardmäßig <code>1</code>, aber kann als dritter Parameter hinter einem weiteren <code>:</code> verändert werden:</p>
<div id="67300d1b-47f1-439b-9bac-b2e09ff15684" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># von Index 0 bis 4 in 2er Schritten</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperatures[<span class="dv">0</span>:<span class="dv">5</span>:<span class="dv">2</span>]) </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="co"># von Index 1 bis Schluss in 2er Schritten</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperatures[<span class="dv">1</span>::<span class="dv">2</span>]) </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="co"># jeder dritte Messwert</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperatures[::<span class="dv">3</span>]) </span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co"># auch rückwärts funktioniert!</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperatures[<span class="dv">4</span>:<span class="dv">1</span>:<span class="op">-</span><span class="dv">1</span>]) </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="co"># komplette Liste rückwärts</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperatures[::<span class="op">-</span><span class="dv">1</span>]) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[22.5, 21.8, 22.5]
[23.1, 24.0, 21.8]
[22.5, 24.0]
[22.5, 24.0, 21.8]
[21.8, 22.5, 24.0, 21.8, 23.1, 22.5]</code></pre>
</div>
</div>
<p>Man kann auch mit dem Operator <code>in</code> fragen, ob ein spezifischer Wert in der Liste enthalten ist:</p>
<div id="59e0782d-11a4-4b5f-a95f-0b4144e3e0cb" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fl">23.1</span> <span class="kw">in</span> temperatures</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>True</code></pre>
</div>
</div>
<p>Dabei muss intern aber jedes Element einzeln abgefragt werden, mit Pech also die gesamte Liste durchgegangen werden (die Datentypen <code>set</code> und <code>dict</code> sind hier deutlioch effizienter).</p>
<p>Praktisch sind auch die Funktionen <code>min()</code> und <code>max()</code>:</p>
<div id="e5d22cd1-736c-48e4-899c-470d46292cce" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Min: "</span>, <span class="bu">min</span>(temperatures))</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Max: "</span>, <span class="bu">max</span>(temperatures))</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Min:  21.8
Max:  24.0</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wie initialisiert man eine Liste?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Es gibt mehrere Möglichkeiten, eine neue Liste anzulegen - leer oder mit Inhalt:</p>
<ul>
<li><p>Leere Initialisierung: <code>[]</code> oder <code>list()</code></p></li>
<li><p>Mit Werten: <code>[1, 2, 3]</code></p></li>
<li><p>Aus anderen Datenstrukturen: <code>list(x)</code>, wobei <code>x</code> einen String, ein Set, ein Tuple oder ein Dictionary referenzieren kann. Im Falle vom String erhält man beispielsweise die Liste der Zeichen, im Falle des Dictionaries die Liste der Schlüssel.<br>
</p></li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtige Methoden der Liste
</div>
</div>
<div class="callout-body-container callout-body">
<table class="caption-top table">
<colgroup>
<col style="width: 45%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Methode</th>
<th>Bedeutung</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>.append(x)</code></td>
<td>Fügt das Element x am Ende der Liste hinzu.</td>
</tr>
<tr class="even">
<td><code>.pop()</code> bzw. <code>.pop(i)</code></td>
<td>Entfernt das letzte Element bzw. das Element mit Index i und gibt es zurück.</td>
</tr>
<tr class="odd">
<td><code>.index(x)</code></td>
<td>Gibt den Index des ersten Auftretens von x zurück. (Achtung: Fehler, wenn x nicht vorkommt!)</td>
</tr>
<tr class="even">
<td><code>.remove(x)</code></td>
<td>Entfernt das erste Vorkommen von x. (Fehler, wenn x nicht vorhanden!)</td>
</tr>
<tr class="odd">
<td><code>.insert(i, x)</code></td>
<td>Fügt das Element x an Position i ein.</td>
</tr>
<tr class="even">
<td><code>.clear()</code></td>
<td>Entfernt alle Elemente.</td>
</tr>
<tr class="odd">
<td><code>.count(x)</code></td>
<td>Zählt das Vorkommen von x in der Liste.</td>
</tr>
<tr class="even">
<td><code>.sort()</code></td>
<td>Sortiert die Liste <em>in-place</em> (das Original wird verändert!).</td>
</tr>
<tr class="odd">
<td><code>.reverse()</code></td>
<td>Kehrt die Reihenfolge aller Elemente in-place um.</td>
</tr>
</tbody>
</table>
<p>Erinnerung: Darüber hinaus sind die Built-in-Functions <code>max()</code>, <code>min()</code>,<code>len()</code>, <code>sum()</code>, <code>sorted()</code> und der <code>in</code>-Operator nützlich!</p>
<p>Beachten Sie unbedingt den Unterschied zwischen <code>.sort()</code> und <code>sorted()</code>:</p>
<p><code>my_list.sort()  # Original verändert!</code></p>
<p><code>sorted(my_list) # Original unverändert!</code></p>
</div>
</div>
</section>
</section>
<section id="analyse-der-einzigartigen-messwerte-anwendung-des-sets" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="analyse-der-einzigartigen-messwerte-anwendung-des-sets"><span class="header-section-number">8.2</span> Analyse der einzigartigen Messwerte – Anwendung des Sets</h2>
<p>Wir möchten wissen, welche Temperaturwerte einzigartig sind. Hierfür ist ein Set ideal, da es automatisch doppelte Einträge entfernt. Würden wir weiter mit einer Liste arbeiten, müssten wir selbst die Daten filtern, z.B. mit den uns bekannten Schleifen. Das wäre allerdings deutlich ineffizienter. Das Set entspricht einer mathematischen Menge, in der jedes Element nur einmal vorkommen darf. Für die Umwandlung führen wir ein explizites Casting durch:</p>
<div id="41f05ac9-172a-4748-b97c-76d1b3687c2b" class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>unique_values <span class="op">=</span> <span class="bu">set</span>(temperatures)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(unique_values) <span class="co"># keine doppelten Werte mehr</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{24.0, 21.8, 22.5, 23.1}</code></pre>
</div>
</div>
<p>Syntaktisch erkennen Sie das Set an den geschweiften Klammern <code>{}</code>. Ein Set erlaubt alle bekannten Mengenoperationen, die Sie aus der Mathematik kennen (z.B. Durchschnitt oder Vereinigung). Nehmen wir an, wir wollen überprüfen, ob unser Sensor mit einer anderen Messreihe gemeinsame Werte hat. Hierfür können wir ganz einfach die Schnittmenge aus beiden Mengen untersuchen:</p>
<div id="803de0fa-4d15-4ba1-b558-1bd670438910" class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>second_temperatures <span class="op">=</span> [<span class="fl">22.0</span>, <span class="fl">23.1</span>, <span class="fl">25.0</span>, <span class="fl">22.4</span>, <span class="fl">20.8</span>]</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>second_set <span class="op">=</span> <span class="bu">set</span>(second_temperatures)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>intersection <span class="op">=</span> unique_values.intersection(second_set)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Gemeinsame Werte: "</span>, intersection)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Gemeinsame Werte:  {23.1}</code></pre>
</div>
</div>
<p>Die Abfrage mit dem Operator <code>in</code> ist übrigens bei Sets viel effizienter als bei Listen. Das liegt an einem Trick: Zu jedem Element eines Sets berechnet Python einen sog. “Hash-Wert”, der angibt, wo das Element im Speicher liegt. Fragt man, ob ein Element im Set liegt, muss Python nur den Hash-Wert für dieses Element berechnen und checken, ob der entsprechende Speicherplatz zum Set gehört. Daher ist der Aufwand - anders als bei Listen - unabhängig von der Größe des Sets!<!-- Deshalb dürfen Sets aber auch nur immutable Elemente beinhalten, denn nur diese sind hashable! --></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wie initialisiert man ein Set?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Es gibt mehrere Möglichkeiten, ein neues Set anzulegen - leer oder mit Inhalt:</p>
<ul>
<li><p>Leere Initialisierung: <code>set()</code> (<strong>Achtung: leere geschweifte Klammern initialisieren ein Dictionary und kein Set!</strong>)</p></li>
<li><p>Mit Werten: <code>{1, 2, 3}</code></p></li>
<li><p>Aus anderen Datenstrukturen: <code>set(x)</code>, wobei <code>x</code> einen String, eine Liste, ein Tuple oder ein Dictionary referenzieren kann. Im Falle vom String erhält man beispielsweise die Menge der Zeichen (Duplikate werden entfernt!), im Falle des Dictionaries die Menge Schlüssel.<br>
</p></li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtige Methoden des Sets
</div>
</div>
<div class="callout-body-container callout-body">
<table class="caption-top table">
<colgroup>
<col style="width: 45%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Methode</th>
<th>Bedeutung</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>.add(x)</code></td>
<td>Fügt das Element x hinzu.</td>
</tr>
<tr class="even">
<td><code>.remove(x)</code></td>
<td>Entfernt x aus dem Set. (Achtung: Fehler, wenn x nicht vorhanden!)</td>
</tr>
<tr class="odd">
<td><code>.clear()</code></td>
<td>Entfernt alle Elemente.</td>
</tr>
<tr class="even">
<td><code>.union(*sets)</code></td>
<td>Gibt die Vereinigungsmenge zurück (A ∪ B).</td>
</tr>
<tr class="odd">
<td><code>.intersection(*sets)</code></td>
<td>Gibt die Schnittmenge zurück (A ∩ B).</td>
</tr>
<tr class="even">
<td><code>.difference(*sets)</code></td>
<td>Gibt die Differenzmenge zurück (A \ B).</td>
</tr>
</tbody>
</table>
<p>Erinnerung: Darüber hinaus sind die Built-in-Functions <code>max()</code>, <code>min()</code>,<code>len()</code>, <code>sum()</code>, <code>sorted()</code> (gibt eine sortierte Liste zurück) und der <code>in</code>-Operator nützlich!</p>
</div>
</div>
<div class="exercises">
<p><b>Übungen:</b></p>
<ol type="1">
<li>Erstellen Sie eine eigene Liste mit fünf Messwerten. Erweitern Sie Ihre Liste durch <code>append()</code> auf insgesamt 8 Elemente.</li>
<li>Geben Sie mithilfe des Slicing-Operators folgende Messwerte aus: a) die ersten drei, b) jeden zweiten, c) alle zwischen dem 3. und 7. Messwert (ohne den 3. und ohne den 7. Messwert selbst) d) die letzten drei.</li>
<li>Finden Sie den größten und den kleinsten Wert Ihrer Messreihe.</li>
<li>Sortieren Sie alle Messwerte der Größe nach von klein nach groß. Finden Sie auch heraus, wie Sie die umgekehrte Sortierung erhalten (also vom größten zum kleinsten Wert).<br>
</li>
<li>Reduzieren Sie Ihre Datenreihe auf ein Set, welches nur einzigartige Messwerte enthält.<br>
</li>
</ol>
</div>
<p>Lösungsvarianten für die umgekehrte Sortierung in Aufgabe 4:</p>
<div id="6b2e2e63-f073-40fa-9814-6eee5b05b08b" class="cell" data-execution_count="51">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Variante 1</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">0</span>,<span class="op">-</span><span class="dv">6</span>]</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>data.sort(reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Variante 2</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">0</span>,<span class="op">-</span><span class="dv">6</span>]</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>sorted_data <span class="op">=</span> <span class="bu">sorted</span>(data, reverse<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sorted_data)</span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Variante 3</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">0</span>,<span class="op">-</span><span class="dv">6</span>]</span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a>sorted_data <span class="op">=</span> <span class="bu">sorted</span>(data)</span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>sorted_data.reverse()</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sorted_data)</span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Variante 4</span></span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">0</span>,<span class="op">-</span><span class="dv">6</span>]</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>reverse_sorted_data <span class="op">=</span> <span class="bu">sorted</span>(data)[::<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(reverse_sorted_data)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="hinzufügen-von-zeitstempeln-anwendung-des-dictionaries" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="hinzufügen-von-zeitstempeln-anwendung-des-dictionaries"><span class="header-section-number">8.3</span> Hinzufügen von Zeitstempeln – Anwendung des Dictionaries</h2>
<p>Für eine präzisere Darstellung ergänzen wir die Daten um Zeitstempel. Wir wären gerne in der Lage, folgende Frage zu beantworten: “Wie war die Temperatur am Tag xy zum Zeitpunkt z?”.</p>
<p>Hierzu speichern wir die Temperaturen als <strong>Werte (values)</strong> und die Zeitpunkte als <strong>Schlüssel (keys)</strong> in einem <strong>Dictionary</strong>. Bei einem Dictionary greift man über einen eindeutigen Schlüssel auf das entsprechende Element zu. Es bedarf keiner komplexen Suche nach dem passenden Element etc. Wir demonstrieren die Anwendung:</p>
<div id="07959a40-08c3-4c96-b6af-d3e69f8422ce" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Dictionary für Zeitstempel und Temperaturen</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2025-03-23 08:00"</span>: <span class="fl">22.5</span>,</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2025-03-23 09:00"</span>: <span class="fl">23.1</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2025-03-23 10:00"</span>: <span class="fl">21.8</span>,</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2025-03-23 11:00"</span>: <span class="fl">24.0</span>,</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2025-03-23 12:00"</span>: <span class="fl">22.5</span>,</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="co"># neue Werte können jederzeit einzeln hinzugefügt werden: </span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>data[<span class="st">"2025-03-23 13:00"</span>] <span class="op">=</span> <span class="fl">21.8</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'2025-03-23 08:00': 22.5, '2025-03-23 09:00': 23.1, '2025-03-23 10:00': 21.8, '2025-03-23 11:00': 24.0, '2025-03-23 12:00': 22.5, '2025-03-23 13:00': 21.8}</code></pre>
</div>
</div>
<p>Achten Sie erneut auf die Syntax: Geschweifte Klammern (wie beim Set), aber darin befinden sich Auflistungen von <code>Key:Value</code>. Der Zugriff auf einzelne Elemente ähnelt syntaktisch dem Index-Zugriff bei einer Liste, aber anstelle eines Indizes verwendet man einen Schlüssel:</p>
<div id="29e748a2-0429-4d14-94f8-00209b89d5a9" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Zugriff auf bestimmte Temperatur</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data[<span class="st">"2025-03-23 09:00"</span>])</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>23.1</code></pre>
</div>
</div>
<p>Eine Gefahr besteht darin, dass man auf Schlüssel zugreifen möchte, die es nicht gibt. Dann würde das Programm abstürzen! Daher gibt es noch eine sicherere Zugriffsmethode über die Methode <code>.get()</code>:</p>
<div id="cb3cc265-fcf9-4695-9199-ee4647ac9c31" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data.get(<span class="st">"2025-03-23 09:00"</span>))</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data.get(<span class="st">"2025-03-23 22:00"</span>)) <span class="co"># Key existiert nicht</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data.get(<span class="st">"2025-03-23 22:00"</span>, <span class="st">"Datensatz fehlt"</span>)) <span class="co"># mit Alternativtext</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>23.1
None
Datensatz fehlt</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wie initialisiert man ein Dictionary?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Es gibt mehrere Möglichkeiten, ein neues Dictionary anzulegen - leer oder mit Inhalt:</p>
<ul>
<li><p>Leere Initialisierung: <code>{}</code> oder <code>dict()</code></p></li>
<li><p>Mit Schlüssel-Wert-Paaren: <code>{"a": 1, "b": 2}</code></p></li>
<li><p>Aus einer Liste von Tupeln: <code>dict([("a", 1), ("b", 2)])</code></p></li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wichtige Methoden des Dictionaries
</div>
</div>
<div class="callout-body-container callout-body">
<table class="caption-top table">
<colgroup>
<col style="width: 45%">
<col style="width: 55%">
</colgroup>
<thead>
<tr class="header">
<th>Methode</th>
<th>Bedeutung</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>.clear()</code></td>
<td>Entfernt alle Elemente.</td>
</tr>
<tr class="even">
<td><code>.get(key, default)</code></td>
<td>Gibt den Value zu <code>key</code> zurück; falls nicht vorhanden: <code>default</code>.</td>
</tr>
<tr class="odd">
<td><code>.pop(key, default)</code></td>
<td>Entfernt Eintrag zu <code>key</code> und gibt dessen Wert zurück; falls nicht vorhanden: <code>default</code>.</td>
</tr>
<tr class="even">
<td><code>.keys()</code> und <code>.values()</code></td>
<td>Zum Iterieren über alle Keys bzw. Values.</td>
</tr>
<tr class="odd">
<td><code>.items()</code></td>
<td>Zum Iterieren über alle (key, value)-Paare.</td>
</tr>
</tbody>
</table>
<p>Erinnerung: Darüber hinaus sind die Built-in-Functions <code>max()</code>, <code>min()</code>,<code>len()</code>, <code>sum()</code>, <code>sorted()</code> und der <code>in</code>-Operator nützlich, aber sie operieren standardmäßig auf den Keys des Dictionaries! Variante: <code>max(my_dict.values())</code>.</p>
</div>
</div>
<div id="bf5028f6-a33f-493d-a620-f722e99a1486" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Beispiel zum Iterieren über alle Einträge: </span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> time, temp <span class="kw">in</span> data.items():</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"</span><span class="sc">{</span>time<span class="sc">}</span><span class="ss">: </span><span class="sc">{</span>temp<span class="sc">}</span><span class="ss">°C"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>2025-03-23 08:00: 22.5°C
2025-03-23 09:00: 23.1°C
2025-03-23 10:00: 21.8°C
2025-03-23 11:00: 24.0°C
2025-03-23 12:00: 22.5°C
2025-03-23 13:00: 21.8°C</code></pre>
</div>
</div>
<p>Das letzte Beispiel sieht etwas ungewohnt aus, da wir zwei Iterationsvariablen in einer <code>for</code>-Schleife gemeinsam verwenden: <code>time</code> und <code>temp</code>. In Wahrheit geschieht hier eine Tupel-Auflösung (das Tupel wird im nächsten Abschnitt ausführlicher behandelt): Mit <code>.items()</code> iterieren wir über die Tupel <code>(key, value)</code> zu jedem Eintrag. Dieses Tupel haben wir aufgelöst in zwei Variablen, da wir wissen, dass die Keys den Zeitstempeln und die Values den Temperaturen entsprechen. Aber auch folgender Code funktioniert:</p>
<div id="ccb0a9de-6e45-4261-a453-07079c5d67b7" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> t <span class="kw">in</span> data.items():</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"key: </span><span class="sc">{</span>t[<span class="dv">0</span>]<span class="sc">}</span><span class="ss">, value: </span><span class="sc">{</span>t[<span class="dv">1</span>]<span class="sc">}</span><span class="ss">"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>key: 2025-03-23 08:00, value: 22.5
key: 2025-03-23 09:00, value: 23.1
key: 2025-03-23 10:00, value: 21.8
key: 2025-03-23 11:00, value: 24.0
key: 2025-03-23 12:00, value: 22.5
key: 2025-03-23 13:00, value: 21.8</code></pre>
</div>
</div>
<div class="exercises">
<p><b>Übungen:</b></p>
<ol type="1">
<li>Erstellen Sie ein Dictionary, das ein einfaches Telefonbuch darstellt. Fügen Sie einige Namen und Telefonnummern hinzu. Greifen Sie auf einige Einträge zu, überschreiben Sie einen Eintrag und versuchen Sie auch auf einen Eintrag zuzugreifen, den es nicht gibt (einmal mit und einmal ohne <code>.get()</code>).</li>
<li>Erstellen Sie ein beliebiges Dictionary und wandeln Sie es anschließend in eine Liste um. Welche Einträge finden Sie in der Liste?</li>
<li>Recherchieren Sie, wie man in Python echte Zeitstempel erzeugt (Tipp: es gibt eine Bibliothek dafür). Schreiben Sie Code, der alle zwei Minuten einen echten Zeitstempel erzeugt und mit einem simulierten Sensorwert (z.B. einer Zufallszahl) in ein Dictionary schreibt. Programmieren Sie eine Abbruchbedingung nach 10 Minuten und untersuchen Sie das entstandene Dictionary (Tipp: Zum Testen kann man zunächst kürzere Zeitintervalle wählen).<br>
</li>
</ol>
</div>
</section>
<section id="speichern-einer-zweiten-messgröße---anwendung-des-tupels-engl.-tuple" class="level2" data-number="8.4">
<h2 data-number="8.4" class="anchored" data-anchor-id="speichern-einer-zweiten-messgröße---anwendung-des-tupels-engl.-tuple"><span class="header-section-number">8.4</span> Speichern einer zweiten Messgröße - Anwendung des Tupels (engl.: tuple)</h2>
<p>Neben der Temperatur misst der Sensor nun auch die relative Luftfeuchtigkeit. Wir speichern beide Messwerte als <strong>Tupel</strong>. Ein Tupel ist ähnlich wie die Liste eine geordnete Kollektion von Elementen, aber mit einem wichtigen Unterschied: Das Tupel ist im Gegensatz zur Liste <strong>unveränderlich</strong>. Man kann weder Elemente hinzufügen, noch entfernen oder überschreiben! Diese Einschränkungen machen das Tupel zu einem sicheren Datenformat, welches außerdem weniger Speicher verbraucht als die Liste. Syntaktisch erkennt man das Tupel meistens an den runden Klammern <code>()</code>:</p>
<div id="e867f4c2-e098-49d9-8dee-8f6d4dd54187" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>measurement <span class="op">=</span> (<span class="fl">23.4</span>, <span class="dv">40</span>) <span class="co"># Tupel mit zwei Werten</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(measurement)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(23.4, 40)</code></pre>
</div>
</div>
<p>Die Klammern können in diesem Beispiel aber auch weggelassen werden:</p>
<div id="7fcc2a75-9f33-4d96-8e7c-7a7a05bf47da" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>measurement <span class="op">=</span> <span class="fl">23.4</span>, <span class="dv">40</span> <span class="co"># ebenfalls ein Tupel mit zwei Werten (Merke: "das Komma macht das Tupel")</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(measurement)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(23.4, 40)</code></pre>
</div>
</div>
<p>Eine Funktion mit mehreren Rückgabewerten liefert ebenfalls ein Tupel:</p>
<div id="dc6860b1-ad99-4314-819e-56c00a6697eb" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> my_function(x, y):</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x <span class="op">+</span> y, x <span class="op">-</span> y, x <span class="op">*</span> y</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> my_function(<span class="dv">5</span>, <span class="dv">3</span>)  <span class="co"># Ergebnisse als Tupel speichern</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(8, 2, 15)</code></pre>
</div>
</div>
<div id="eb6fdeef-bd30-4925-84e1-3701545aaf2f" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># alternativ: Ergebnisse einzeln speichern</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>a, b, c <span class="op">=</span> my_function(<span class="dv">5</span>, <span class="dv">3</span>)  </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(a, b, c)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>8 2 15</code></pre>
</div>
</div>
<p>Man kann die Werte eines Tupels über den Indexzugriff auslesen (aber nicht überschreiben!):</p>
<div id="0b0b2783-3f4a-4970-8906-75bab2969b6b" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Temperatur: "</span>, measurement[<span class="dv">0</span>])</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Luftfeuchtigkeit: "</span>, measurement[<span class="dv">1</span>])</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co">#measurement[0] = 25.0 ist nicht erlaubt! Ein Tupel ist unveränderlich!</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Temperatur:  23.4
Luftfeuchtigkeit:  40</code></pre>
</div>
</div>
<p>Unser neues Dictionary sieht jetzt so aus:</p>
<div id="1574602a-ae9c-4c98-be0b-04eacc788e06" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Erweiterung: Values = Tupel aus Temperatur und Luftfeuchtigkeit</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2025-03-23 08:00"</span>: (<span class="fl">22.5</span>, <span class="dv">60</span>),</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2025-03-23 09:00"</span>: (<span class="fl">23.1</span>, <span class="dv">55</span>),</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2025-03-23 10:00"</span>: (<span class="fl">21.8</span>, <span class="dv">58</span>),</span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2025-03-23 11:00"</span>: (<span class="fl">24.0</span>, <span class="dv">61</span>),</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2025-03-23 12:00"</span>: (<span class="fl">22.5</span>, <span class="dv">62</span>)</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a><span class="co"># neuen Wert hinzufügen</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>data[<span class="st">"2025-03-23 13:00"</span>] <span class="op">=</span> (<span class="fl">24.0</span>, <span class="dv">58</span>)</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a><span class="co"># einen Zeitpunkt abfragen</span></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data.get(<span class="st">"2025-03-23 10:00"</span>))</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(21.8, 58)</code></pre>
</div>
</div>
<p>Tatsächlich könnte man die beiden Messwerte natürlich auch als Liste mit zwei Elementen zusammenfassen, aber das Tupel hat in diesem Fall klare Vorteile:</p>
<ul>
<li>Semantik: Ein Tupel repräsentiert eine feste Kombination von Werten, z. B. Temperatur und Luftfeuchtigkeit, die logisch zusammengehören.</li>
<li>Unveränderbarkeit: Tupel verhindern unbeabsichtigte Änderungen. (Will man bewusst einen Wert verändern, kann man in eine Liste umwandeln.)</li>
<li>Effizienz: Tupel benötigen weniger Speicherplatz und werden (etwas) schneller verarbeitet als Listen.</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wie initialisiert man ein Tupel?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Es gibt mehrere Möglichkeiten, ein neues Tupel anzulegen - leer oder mit Inhalt:</p>
<ul>
<li><p>Leere Initialisierung: <code>()</code> oder <code>tuple()</code></p></li>
<li><p>Mit Werten: <code>(1, 2, 3)</code></p></li>
<li><p>Ohne Klammern: <code>t = 1, 2, 3</code> wird automatisch als Tupel interpretiert.</p></li>
<li><p>Achtung Spezialfall - Tupel mit exakt einem Wert: <code>(42,)</code> oder <code>42,</code> (Merke: <em>Das Komma macht das Tupel, nicht die Klammern!</em>)</p></li>
<li><p>Aus anderen Datenstrukturen: <code>tuple(x)</code>, wobei <code>x</code> einen String, eine Liste, ein Set oder ein Dictionary referenzieren kann. Im Falle vom String erhält man beispielsweise das Tupel der Zeichen, im Falle des Dictionaries das Tupel der Schlüssel.<br>
</p></li>
</ul>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Methoden des Tupels
</div>
</div>
<div class="callout-body-container callout-body">
<p>Da das Tupel unveränderlich ist, stellt es nur Informationsmethoden zur Verfügung:</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Methode</th>
<th>Bedeutung</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>.count(x)</code></td>
<td>Zählt das Vorkommen von x.</td>
</tr>
<tr class="even">
<td><code>.index(x)</code></td>
<td>Gibt den Index des ersten Vorkommens von x zurück.</td>
</tr>
</tbody>
</table>
<p>Erinnerung: Darüber hinaus sind die Built-in-Functions <code>max()</code>, <code>min()</code>,<code>len()</code>, <code>sum()</code>, <code>sorted()</code> und der <code>in</code>-Operator nützlich!</p>
</div>
</div>
<div class="exercises">
<p><b>Übung:</b></p>
<p>Erstellen Sie ein Dictionary, das eine Kontaktliste darstellt: Zu jedem Namen speichert es ein Tupel aus Telefonnummer, Geburtsdatum und Adresse. Testen Sie Ihr Dictionary mit einigen Dummy-Einträgen. Lesen Sie dabei die drei Attribute eines Eintrags einzeln aus (wenn Sie beispielsweise nur am Geburtsdatum interessiert sind, wollen Sie nicht die Telefonnummer oder die Adresse ausgeben).</p>
</div>
<p>Lösung:</p>
<div id="97dcdcaa-df0a-40a2-b21a-9ed70ec9c739" class="cell" data-execution_count="11">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>contacts_dict <span class="op">=</span> {}</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Tupel-Einträge für 3 Dummy-Kontakte:</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>contacts_dict[<span class="st">"Harry"</span>] <span class="op">=</span> <span class="st">"0111-222"</span>, <span class="st">"1.1.1995"</span>, <span class="st">"Hogwarts 1"</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>contacts_dict[<span class="st">"Hermine"</span>] <span class="op">=</span> <span class="st">"0222-1234"</span>, <span class="st">"3.2.1992"</span>, <span class="st">"Hogwarts 2"</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>contacts_dict[<span class="st">"Ron"</span>] <span class="op">=</span><span class="st">"0311-4321"</span>, <span class="st">"4.5.1994"</span>, <span class="st">"Hogwarts 3"</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="co">#  Hinweis: Auf der rechten Seite können runde Klammern benutzt werden,</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a><span class="co"># das ist aber nicht erforderlich. "Das Komma macht das Tupel!"</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Zugriffe auf die 3 Attribute eines Eintrags erfolgen</span></span>
<span id="cb46-11"><a href="#cb46-11" aria-hidden="true" tabindex="-1"></a><span class="co"># über den korrekten Index des Tupels:</span></span>
<span id="cb46-12"><a href="#cb46-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Rons Geburtstag:"</span>, contacts_dict[<span class="st">"Ron"</span>][<span class="dv">1</span>])</span>
<span id="cb46-13"><a href="#cb46-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Rons Adresse:"</span>, contacts_dict[<span class="st">"Ron"</span>][<span class="dv">2</span>])</span>
<span id="cb46-14"><a href="#cb46-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Rons Telefonnummer:"</span>, contacts_dict[<span class="st">"Ron"</span>][<span class="dv">0</span>])</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="daten-mehrerer-sensoren---verschachtelte-dictionaries" class="level2" data-number="8.5">
<h2 data-number="8.5" class="anchored" data-anchor-id="daten-mehrerer-sensoren---verschachtelte-dictionaries"><span class="header-section-number">8.5</span> Daten mehrerer Sensoren - verschachtelte Dictionaries</h2>
<p>Stellen Sie sich vor, wir hätten drei anstelle von einem Sensor und wollten die Daten aller Sensoren strukturiert erfassen. Hierzu können wir zwei Dictionaries ineinander verschachteln: Der erste Key ist der Name des Sensors, zugehöriger Value ist ein Dictionary, das wie bisher die Messwerte dieses einen Sensors sammelt (also Zeitstempel als Key, Messwert als Value). Im Code sieht das so aus:</p>
<div id="e3177ac6-9d49-4cc4-9a54-87aadce46550" class="cell" data-execution_count="170">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Verschachtelte Dictionaries für drei Sensoren</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> {</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Sensor1"</span>: {</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"2025-03-23 08:00"</span>: (<span class="fl">22.5</span>, <span class="dv">60</span>),</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">"2025-03-23 09:00"</span>: (<span class="fl">23.1</span>, <span class="dv">55</span>)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Sensor2"</span>: {</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">"2025-03-23 08:00"</span>: (<span class="fl">21.8</span>, <span class="dv">57</span>),</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">"2025-03-23 09:00"</span>: (<span class="fl">22.0</span>, <span class="dv">67</span>)</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Sensor3"</span>: {</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">"2025-03-23 08:00"</span>: (<span class="fl">24.0</span>, <span class="dv">58</span>),</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"2025-03-23 09:00"</span>: (<span class="fl">23.8</span>, <span class="dv">57</span>)</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a><span class="co"># So würde man Messwerte hinzufügen:</span></span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>data[<span class="st">"Sensor3"</span>][<span class="st">"2025-03-23 10:00"</span>] <span class="op">=</span> (<span class="fl">25.2</span>, <span class="dv">62</span>) <span class="co"># Neuer Wert für Sensor 3</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="exercises">
<p><b>Übung:</b></p>
<p>Erstellen Sie ein verschachteltes Dictionary, das eine Kontaktliste darstellt: Zu jedem Namen speichert es ein weiteres Dictionary mit den Keys <code>"Telefon"</code>, <code>"Geburtsdatum"</code> und <code>"Adresse"</code>. Testen Sie Ihr Dictionary mit einigen Dummy-Einträgen. Greifen Sie für einen Namen auf jedes der drei Attribute einzeln zu.</p>
</div>
<p>Lösung:</p>
<div id="8ba388af-eb1c-4a41-a367-f93839709642" class="cell" data-execution_count="13">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>contacts_dict <span class="op">=</span> {}</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Einträge für 3 Dummy-Kontakte:</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>contacts_dict[<span class="st">"Harry"</span>] <span class="op">=</span> {<span class="st">"Telefon"</span>:<span class="st">"0111-222"</span>, <span class="st">"Geburtsdatum"</span>:<span class="st">"1.1.1995"</span>, <span class="st">"Adresse"</span>:<span class="st">"Hogwarts 1"</span>}</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>contacts_dict[<span class="st">"Hermine"</span>] <span class="op">=</span> {<span class="st">"Telefon"</span>:<span class="st">"0222-1234"</span>, <span class="st">"Geburtsdatum"</span>:<span class="st">"3.2.1992"</span>, <span class="st">"Adresse"</span>:<span class="st">"Hogwarts 2"</span>}</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>contacts_dict[<span class="st">"Ron"</span>] <span class="op">=</span>{<span class="st">"Telefon"</span>:<span class="st">"0311-4321"</span>, <span class="st">"Geburtsdatum"</span>:<span class="st">"4.5.1994"</span>, <span class="st">"Adresse"</span>:<span class="st">"Hogwarts 3"</span>}</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Zugriffe:</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Hermines Geburtsdatum:"</span>, contacts_dict[<span class="st">"Hermine"</span>][<span class="st">"Geburtsdatum"</span>])</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Hermines Adresse:"</span>, contacts_dict[<span class="st">"Hermine"</span>][<span class="st">"Adresse"</span>])</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Hermines Telefonnummer:"</span>, contacts_dict[<span class="st">"Hermine"</span>][<span class="st">"Telefon"</span>])</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="exkurs-mutable-und-immutable-datentypen-in-python" class="level2" data-number="8.6">
<h2 data-number="8.6" class="anchored" data-anchor-id="exkurs-mutable-und-immutable-datentypen-in-python"><span class="header-section-number">8.6</span> Exkurs: Mutable und immutable Datentypen in Python</h2>
<p>Python unterscheidet zwischen <strong>immutable</strong> (unveränderlichen) und <strong>mutable</strong> (veränderlichen) Datentypen. Diese Begriffe beziehen sich auf Instanzen eines bestimmten Datentyps:</p>
<ul>
<li><p>Wenn eine Instanz <strong>immutable</strong> ist, kann sich ihr Wert nie verändern! Python wird deshalb denselben Wert nicht mehrmals speichern, sondern genau einmal. Wenn der Wert einer Variable, die auf eine immutable Instanz zeigt, sich verändert, zeigt die Variable hinterher auf eine andere Instanz! Integers, Floats, Bools, Strings und Tuples sind in Python immutable.</p></li>
<li><p>Anders bei den <strong>mutable</strong> Datentypen: Hier kann die Instanz verändert werden. Dies führt zu Seiteneffekten, wenn mehrere Variablen dieselbe Instanz referenzieren. Listen, Dictionaries und Sets sind mutable.</p></li>
</ul>
<p>Vielleicht können Sie jetzt schon ahnen, dass diese Unterschiede zu ungewolltem Verhalten führen können, wenn man sich ihrer nicht bewusst ist. Bei Unsicherheiten können Sie die Identitäten abfragen. Es gibt aber noch eine direktere Möglichkeit, nämlich den <code>is</code>-Operator: Er liefert <code>True</code>, wenn zwei Variablen auf dieselbe Instanz zeigen:</p>
<div id="882af5b9-b577-4cc8-8a2f-118397d6dc8b" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>my_shopping_list <span class="op">=</span> [<span class="st">'apples'</span>, <span class="st">'oranges'</span>, <span class="st">'paper'</span>]</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>your_shopping_list <span class="op">=</span> my_shopping_list</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Mit is auf identische </span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Instanzen prüfen:</span></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>my_shopping_list <span class="kw">is</span> your_shopping_list </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">
<pre><code>True</code></pre>
</div>
</div>
<p>Wenn die Instanz in diesem Beispiel über eine der beiden Referenzen geändert wird, hat das auch Auswirkungen auf die zweite Referenz:</p>
<p>my_shopping_list.append(‘shoes’) # Instanz verändert sich! print(your_shopping_list)</p>
<p>Seiteneffekte können auch durch den Aufruf von Funktionen auftreten: Wir übergeben an Funktionen eine Referenz auf eine Instanz. Wenn die Instanz mutable ist, kann die Funktion die Instanz verändern! Hierzu eine Demo:</p>
<div id="44e26f9b-b5f8-4606-bdc9-f12a9673cd61" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> append_a(l:<span class="bu">list</span>, a:<span class="bu">int</span>):</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>    l.append(a)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>my_list <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>append_a(my_list, <span class="dv">100</span>)</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_list)  <span class="co"># my_list wurde verändert</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1, 2, 3, 100]</code></pre>
</div>
</div>
<p>In diesem Beispiel gibt es zwei Referenzen auf ein veränderliche Instanz: <code>l</code> im lokalen Scope der Funktion und <code>my_list</code> im globalen Scope. Beide sehen die Änderung, die durch <code>.append(...)</code> hervorgerufen wird!</p>
<p>Besonders überraschend ist vielleicht das folgende Beispiel:</p>
<div id="3d7825ad-e989-4817-a0f8-e0044ea1152e" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> append_a_to_global_list(a:<span class="bu">int</span>):</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>    my_list.append(a) <span class="co"># my_list wird über die LEGB-Rule im globalen Namespace gefunden</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>my_list <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>append_a_to_global_list(<span class="dv">100</span>)</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(my_list)  <span class="co"># my_list wurde verändert</span></span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1, 2, 3, 100]</code></pre>
</div>
</div>
<p>Wundern Sie sich, dass wir das Keyword <code>global</code> nicht gebraucht haben? Der Grund ist einfach: In der Funktion wurde keine neue Zuweisung an <code>my_list</code> vorgenommen. Stattdessen haben wir lediglich die bereits existierende Instanz verändert – und das funktioniert nur bei veränderbaren (mutable) Datentypen. Das Keyword <code>global</code> wäre nur dann erforderlich gewesen, wenn wir <code>my_list</code> innerhalb der Funktion eine neue Instanz zugewiesen hätten, also z. B. mit <code>my_list = [4, 5, 6]</code>. In diesem Fall müssten wir – wie bekannt – mit <code>global my_list</code> deutlich machen, dass sich die Zuweisung auf die globale Variable beziehen soll (und nicht nur auf eine lokale im Namespace der Funktion).</p>
<p>Abschließender Hinweis: Behalten Sie stets im Hinterkopf, dass es bei den Begriffen <em>mutable</em> bzw. <em>immutable</em> immer um die Instanz geht, nicht um die Referenz. Natürlich können Sie eine Variable, die auf eine <strong>immutable</strong> Instanz zeigt, ändern. Dann zeigt sie aber auf eine andere Instanz.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Wie ist das in anderen Sprachen?
</div>
</div>
<div class="callout-body-container callout-body">
<p>Das Konzept der Immutability, wie wir es in Python kennengelernt haben, existiert nicht genauso in anderen Sprachen. Auch der prinzipielle Umgang mit Speicher unterscheidet sich teils grundlegend. Sprachen wie Java oder C# sind Python ähnlicher, da sie Instanzen und Referenzen verwenden und teilweise Immutability durch Sprachmechanismen unterstützen, wie z. B. immutable Strings oder Klassen.</p>
<p>In C hingegen gibt es keine Sprachmechanismen für immutable Instanzen. Stattdessen operiert C als Low-Level-Sprache direkt mit Speicheradressen. Werte können überschrieben und mehrere <em>Pointer</em> auf denselben Speicherbereich angelegt werden, die den Wert dort verändern können. Es liegt in der Verantwortung der Programmierer, Speicher sicher zu verwalten, was anfällig für Fehler macht – etwa Speicherlecks oder unvorhergesehene Zustandsänderungen. Die Freiheit von C ist jedoch unverzichtbar, wenn es um Hardware-nahe Programmierung, Performance-Optimierung oder ressourcensparende Anwendungen geht.</p>
</div>
</div>
</section>
<section id="sicheres-kopieren-von-listen" class="level2" data-number="8.7">
<h2 data-number="8.7" class="anchored" data-anchor-id="sicheres-kopieren-von-listen"><span class="header-section-number">8.7</span> Sicheres Kopieren von Listen</h2>
<p>Seien Sie immer auf der Hut, wenn Sie eine Liste kopieren wollen. Da sie zu den mutable Datentypen gehört, erzeugen Sie schnell unbeabsichtigt nur eine zweite Referenz auf das Original mit den genannten Seiteneffekten als Gefahr. Eine einfache Möglichkeit, dies zu umgehen, ist eine Kopie mithilfe des Slicing-Operators:</p>
<div id="c2044608-1e7a-4b95-a9e2-600bb3c95277" class="cell" data-execution_count="212">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>original <span class="op">=</span> [<span class="st">"apples"</span>, <span class="st">"oranges"</span>, <span class="st">"books"</span>]</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Zuweisung erzeugt nur eine zweite Referenz:</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>second_reference <span class="op">=</span> original  <span class="co"># keine Kopie! </span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a><span class="co"># mit Slicing eine Kopie erzeugen:</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>copy <span class="op">=</span> original[:] </span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Wir zeigen, dass copy keine Seiteneffekte hat: </span></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>copy.append(<span class="st">"bananas"</span>)</span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Original: "</span>, original) <span class="co"># unverändert</span></span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Kopie: "</span>, copy)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Original:  ['apples', 'oranges', 'books']
Kopie:  ['apples', 'oranges', 'books', 'bananas']</code></pre>
</div>
</div>
<p>Es gibt allerdings noch eine Diffizilität: Der Trick mit dem Slicing-Operator funktioniert nur so lange, wie die Elemente der Liste immutable sind. Sollten sich darunter aber mutable Datentypen befinden, kann es immer noch zu Seiteneffekten kommen. Wir haben zwar eine Kopie erstellt, allerdings nur eine sog. “flache Kopie”. Um alle Mehrfachreferenzen aufzulösen und eine völlig unabhängige Kopie zu erhalten, braucht es eine sog. “tiefe Kopie”. Hierfür gibt es bestimmte Algorithmen aus dem Modul <code>copy</code>:</p>
<div id="8fc8d7d8-b5c3-4eac-9781-397a4b8528bf" class="cell" data-execution_count="218">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> copy</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>original <span class="op">=</span> [[<span class="dv">1</span>,<span class="dv">2</span>],<span class="dv">3</span>,<span class="dv">4</span>] <span class="co"># Liste mit einem mutable Element</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>copy1 <span class="op">=</span> original[:] <span class="co"># flache Kopie</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>copy2 <span class="op">=</span> copy.deepcopy(original) <span class="co"># tiefe Kopie</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Demo der Seiteneffekte:</span></span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Das mutable erste Element wird in den Kopien verändert</span></span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>copy1[<span class="dv">0</span>].append(<span class="dv">3</span>) </span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>copy2[<span class="dv">0</span>].append(<span class="dv">100</span>)</span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Original: "</span>, original)</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"flache Kopie: "</span>, copy1)</span>
<span id="cb57-14"><a href="#cb57-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"tiefe Kopie: "</span>, copy2)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Original:  [[1, 2, 3], 3, 4]
flache Kopie:  [[1, 2, 3], 3, 4]
tiefe Kopie:  [[1, 2, 100], 3, 4]</code></pre>
</div>
</div>
<p>Die Änderungen an der flachen Kopie hatten noch Auswirkungen auf das Original, weil beide die Referenz auf das erste Element teilten, welches mutable war. Nur bei der tiefen Kopie handelt es sich um eine völlig autarke Kopie, die nichts mehr mit dem Original gemein hat.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Vier Wege zur flachen Kopie
</div>
</div>
<div class="callout-body-container callout-body">
<p>Die folgenden vier Varianten erzeugen alle eine <strong>flache Kopie</strong>:</p>
<ol type="1">
<li>Slicing: <code>my_copy = original[:]</code></li>
<li><code>list</code>-Funktion: <code>my_copy = list(original)</code></li>
<li>Methode <code>.copy()</code>: <code>my_copy = original.copy()</code></li>
<li>Funktion <code>copy()</code> aus Modul <code>copy</code>: <code>my_copy = copy.copy(original)</code></li>
</ol>
</div>
</div>
<p>In Python ist die tiefe Kopie (copy.deepcopy) bewusst nicht als Built-in-Funktion verfügbar. Der Grund liegt in der Designphilosophie <em>„Explicit is better than implicit“</em>: Eine tiefe Kopie sollte nur dann eingesetzt werden, wenn man sie wirklich benötigt. Da die Operation rekursiv alle enthaltenen Objekte dupliziert, ist sie vergleichsweise aufwendig in Bezug auf Laufzeit und Speicherverbrauch. In vielen Fällen ist es daher sinnvoller, benötigte Datenstrukturen gezielt neu aufzubauen oder nur Teilstrukturen zu kopieren, anstatt pauschal eine tiefe Kopie der gesamten Struktur zu erzeugen.</p>
</section>
<section id="list-comprehensions" class="level2" data-number="8.8">
<h2 data-number="8.8" class="anchored" data-anchor-id="list-comprehensions"><span class="header-section-number">8.8</span> List Comprehensions</h2>
<p>In Python gibt es eine elegante und kompakte Möglichkeit, Listen zu erzeugen: die sogenannte <strong>List Comprehension</strong>.</p>
<p>Statt mit einer Schleife umständlich Elemente einer Liste hinzuzufügen, können wir in einer einzigen Zeile eine neue Liste erstellen. Das macht den Code kürzer, lesbarer und oft schneller.</p>
<section id="syntax" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="syntax">Syntax</h3>
<p>Die allgemeine Syntax sieht so aus:</p>
<p><code>[ Ausdruck for Element in Sequenz ]</code></p>
<ul>
<li><p><strong>Sequenz</strong>: Etwas, über das iteriert werden kann (z.B. eine Liste, ein String, ein Bereich <code>range()</code>), wie wir es schon von der For-Schleife kennen.</p></li>
<li><p><strong>Element</strong>: Eine Variable, die nacheinander die Werte aus der Sequenz annimmt.</p></li>
<li><p><strong>Ausdruck</strong>: Ein Ausdruck, der für jedes Element ausgewertet wird. Dieser wird dann der neuen Liste hinzugefügt.</p></li>
</ul>
<p>Der hintere Teil der List Comprehension verhält sich ganz analog zur For-Schleife, neu ist der Ausdruck. Ein Beispiel macht alles verständlicher:</p>
<div id="f26ad137-7c53-41b9-a189-1a339c2ff8bc" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Beispiel: Liste aller Quadratzahlen der Zahlen von 0 bis 9</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>squares <span class="op">=</span> [x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>)]</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(squares)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[0, 1, 4, 9, 16, 25, 36, 49, 64, 81]</code></pre>
</div>
</div>
<p>Analysieren wir das Beispiel:</p>
<ul>
<li><p><strong>Sequenz</strong>: <code>range(10)</code>.</p></li>
<li><p><strong>Element</strong>: <code>x</code>, eine eigene Bezeichnung für die Elemente der Sequenz.</p></li>
<li><p><strong>Ausdruck</strong>: <code>x**2</code>, jedes <code>x</code> aus der genannten Sequenz soll quadriert werden.</p></li>
</ul>
<p>Die Syntax kann noch um eine <code>if</code>-Bedingung am Ende erweitert werden:</p>
<p><code>[ Ausdruck for Element in Sequenz if Bedingung ]</code></p>
<ul>
<li><strong>Bedingung</strong> am Ende der List Comprehension: Nur Elemente, die die Bedingung erfüllen, werden berücksichtigt.</li>
</ul>
<div id="0cfbaff9-8420-486a-b75a-5754aa997bdc" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ein Beispiel: Liste aller Quadratzahlen der geraden Zahlen von 0 bis 9</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>squares2 <span class="op">=</span> [x<span class="op">**</span><span class="dv">2</span> <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>) <span class="cf">if</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(squares2)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[0, 4, 16, 36, 64]</code></pre>
</div>
</div>
<p>Darüber hinaus können auch <code>if</code>- und <code>else</code>-Bedingungen vor dem <code>for</code> verwendet werden, um alternative Ausdrücke zu verwenden:</p>
<div id="03d9ca33-197c-4061-901d-2b5da9584112" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Mit if-else vor dem for</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> [x <span class="cf">if</span> x <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span> <span class="cf">else</span> <span class="op">-</span>x <span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10</span>)]</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(result)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[0, -1, 2, -3, 4, -5, 6, -7, 8, -9]</code></pre>
</div>
</div>
<p>Je komplexer eine List Comprehension wird, desto schwieriger wird sie allerdings zu lesen und zu verstehen – und das kann schnell die Vorteile zunichtemachen, die man eigentlich durch die kürzere Schreibweise erreichen wollte.</p>
</section>
<section id="beispiele-aus-der-ingenieurpraxis" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="beispiele-aus-der-ingenieurpraxis">Beispiele aus der Ingenieurpraxis</h3>
<p>List Comprehensions sind sehr praktisch, um Messwerte von einer Einheit in eine andere umzurechnen:</p>
<div id="1628c126-884e-4747-b049-956a1581666c" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>values_in_cm <span class="op">=</span> [<span class="dv">100</span>, <span class="dv">250</span>, <span class="dv">430</span>, <span class="dv">125</span>]</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>values_in_m <span class="op">=</span> [x <span class="op">/</span> <span class="dv">100</span> <span class="cf">for</span> x <span class="kw">in</span> values_in_cm]</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(values_in_m)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1.0, 2.5, 4.3, 1.25]</code></pre>
</div>
</div>
<div id="6e572543-38d7-41ce-9a96-e23224318141" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>temperatures_celsius <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">20</span>, <span class="dv">37</span>, <span class="dv">100</span>]</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>temperatures_fahrenheit <span class="op">=</span> [t <span class="op">*</span> <span class="dv">9</span><span class="op">/</span><span class="dv">5</span> <span class="op">+</span> <span class="dv">32</span> <span class="cf">for</span> t <span class="kw">in</span> temperatures_celsius]</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(temperatures_fahrenheit)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[32.0, 68.0, 98.6, 212.0]</code></pre>
</div>
</div>
<p>List Comprehensions werden auch gerne zum Filtern von Messwerten verwendet, wie das folgende Beispiel zeigt:</p>
<div id="06908345-2431-4d09-82b9-8c9f6cf925c5" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>voltages <span class="op">=</span> [<span class="fl">3.3</span>, <span class="fl">5.1</span>, <span class="fl">2.5</span>, <span class="fl">4.8</span>, <span class="fl">2.1</span>, <span class="fl">7.2</span>, <span class="fl">0.7</span>]</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>high_voltages <span class="op">=</span> [u <span class="cf">for</span> u <span class="kw">in</span> voltages <span class="cf">if</span> u <span class="op">&gt;</span> <span class="dv">5</span>]  <span class="co"># 5 V ist hier ein oberer Grenzwert </span></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>low_voltages <span class="op">=</span> [u <span class="cf">for</span> u <span class="kw">in</span> voltages <span class="cf">if</span> u <span class="op">&lt;=</span> <span class="dv">5</span>]</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Oberhalb des Grenzwertes:"</span>, high_voltages)</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Gültige Messwerte:"</span>, low_voltages) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Oberhalb des Grenzwertes: [5.1, 7.2]
Gültige Messwerte: [3.3, 2.5, 4.8, 2.1, 0.7]</code></pre>
</div>
</div>
<div id="1cca6e65-bcd2-47d7-a60f-9a6d4969e302" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Alternativ könnte man die zu hohen Werte "abschneiden":</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>voltages <span class="op">=</span> [<span class="fl">3.3</span>, <span class="fl">5.1</span>, <span class="fl">2.5</span>, <span class="fl">4.8</span>, <span class="fl">2.1</span>, <span class="fl">7.2</span>, <span class="fl">0.7</span>]</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>limited_voltages <span class="op">=</span> [u <span class="cf">if</span> u <span class="op">&lt;=</span> <span class="dv">5</span> <span class="cf">else</span> <span class="dv">5</span> <span class="cf">for</span> u <span class="kw">in</span> voltages]  <span class="co"># 5 V ist hier ein oberer Grenzwert </span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Bereinigte Messwerte:"</span>, limited_voltages) </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Bereinigte Messwerte: [3.3, 5, 2.5, 4.8, 2.1, 5, 0.7]</code></pre>
</div>
</div>
<div class="exercises">
<p><b>Übungen:</b> Gegeben ist eine Liste, die Geschwindigkeitsmessungen in der Einheit km/h beinhaltet: <code>speeds = [30.0, 50.7, 45.3, 77.4, 100.9]</code></p>
<ol type="1">
<li>Erstellen Sie mit einer List Comprehension eine Liste, die die Geschwindigkeiten in der Einheit m/s, gerundet auf zwei Nachkommastellen, beinhaltet.</li>
<li>Passen Sie Ihre List Comprehension so an, dass nur Werte oberhalb 50 km/h umgerechnet und in die neue Liste aufgenommen werden.</li>
</ol>
<p>Gegeben ist eine Liste von Fahrten, jeweils als Tupel (Strecke in km, Zeit in Minuten): <code>trips = [(10, 30), (25, 60), (20, 20), (5, 10)]</code>.</p>
<ol start="3" type="1">
<li>Erstellen Sie mit einer List Comprehension eine Liste der jeweiligen Durchschnittsgeschwindigkeiten in der Einheit km/h.</li>
<li>Erstellen Sie mit einer List Comprehension eine Liste aus Strings mit den Labeln “langsam” (für Fahrten mit einer Durchschnittsgeschwindigkeit unter 50 km/h) und “schnell” (für alle anderen).</li>
</ol>
</div>
<div id="2ac4a400-95c5-4717-8311-085240ba9b16" class="cell" data-execution_count="8">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>speeds <span class="op">=</span> [<span class="fl">30.0</span>, <span class="fl">50.7</span>, <span class="fl">45.3</span>, <span class="fl">77.4</span>, <span class="fl">100.9</span>]</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Übung 1: Einheit umrechnen nach km/h</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Umrechnungsfaktor ist *1000/3600 (oder dividieren durch 3.6)</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a><span class="co"># runden auf 2 Nachkommastellen: mit round(..., 2)</span></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>speeds_ms <span class="op">=</span> [<span class="bu">round</span>(kmh <span class="op">*</span> <span class="dv">1000</span><span class="op">/</span><span class="dv">3600</span>, <span class="dv">2</span>) <span class="cf">for</span> kmh <span class="kw">in</span> speeds]</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Ergebnis Übung 1:"</span>, speeds_ms)</span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Übung 2: nur für solche mit kmh &gt; 50</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a>fast_speeds_ms <span class="op">=</span> [<span class="bu">round</span>(kmh <span class="op">*</span> <span class="dv">1000</span><span class="op">/</span><span class="dv">3600</span>, <span class="dv">2</span>) <span class="cf">for</span> kmh <span class="kw">in</span> speeds <span class="cf">if</span> kmh <span class="op">&gt;</span> <span class="dv">50</span>]</span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Ergebnis Übung 2:"</span>, fast_speeds_ms)</span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Übung 3</span></span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a>trips <span class="op">=</span> [(<span class="dv">10</span>, <span class="dv">30</span>), (<span class="dv">25</span>, <span class="dv">60</span>), (<span class="dv">20</span>, <span class="dv">20</span>), (<span class="dv">5</span>, <span class="dv">10</span>)]</span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a><span class="co"># gesuchte Durchschnittsgeschwindigkeit: Strecke in km / Zeit in h</span></span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Die Zeiten müssen von min in h umgerechnet werden: durch 60 dividieren  </span></span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a>average_speeds <span class="op">=</span> [trip[<span class="dv">0</span>]<span class="op">/</span>(trip[<span class="dv">1</span>]<span class="op">/</span><span class="dv">60</span>) <span class="cf">for</span> trip <span class="kw">in</span> trips]</span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Ergebnis Übung 3:"</span>, average_speeds)</span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-20"><a href="#cb73-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Übung 4</span></span>
<span id="cb73-21"><a href="#cb73-21" aria-hidden="true" tabindex="-1"></a>trip_labels <span class="op">=</span> [<span class="st">"langsam"</span> <span class="cf">if</span> v <span class="op">&lt;</span> <span class="dv">50</span> <span class="cf">else</span> <span class="st">"schnell"</span> <span class="cf">for</span> v <span class="kw">in</span> average_speeds]</span>
<span id="cb73-22"><a href="#cb73-22" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Ergebnis Übung 4:"</span>, trip_labels)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="performance" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="performance">Performance</h3>
<p>List Comprehensions sind in der Regel schneller als eine klassische Schleife mit <code>append()</code>, da sie in Python auf C-Ebene optimiert sind. Das bedeutet, viele Schritte (wie Funktionsaufrufe oder das Anhängen an eine Liste) passieren effizient im Hintergrund. Eine kleine Demo:</p>
<div id="910aa7bc-8de0-4a0c-8575-8318f2e8562b" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time  <span class="co"># zum Messen von Zeiten</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Klassische For-Loop mit append</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>start <span class="op">=</span> time.time()</span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> []</span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10000000</span>):</span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>        result.append(i <span class="op">*</span> <span class="dv">2</span>)</span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>end <span class="op">=</span> time.time()</span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-12"><a href="#cb74-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"For-Loop Dauer: </span><span class="sc">{</span><span class="bu">round</span>(end <span class="op">-</span> start,<span class="dv">2</span>)<span class="sc">}</span><span class="ss"> Sekunden"</span>)</span>
<span id="cb74-13"><a href="#cb74-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-14"><a href="#cb74-14" aria-hidden="true" tabindex="-1"></a><span class="co"># List Comprehension mit demselben Ergebnis</span></span>
<span id="cb74-15"><a href="#cb74-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-16"><a href="#cb74-16" aria-hidden="true" tabindex="-1"></a>start <span class="op">=</span> time.time()</span>
<span id="cb74-17"><a href="#cb74-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-18"><a href="#cb74-18" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> [i <span class="op">*</span> <span class="dv">2</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">10000000</span>) <span class="cf">if</span> i <span class="op">%</span> <span class="dv">2</span> <span class="op">==</span> <span class="dv">0</span>]</span>
<span id="cb74-19"><a href="#cb74-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-20"><a href="#cb74-20" aria-hidden="true" tabindex="-1"></a>end <span class="op">=</span> time.time()</span>
<span id="cb74-21"><a href="#cb74-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-22"><a href="#cb74-22" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"List Comprehension Dauer: </span><span class="sc">{</span><span class="bu">round</span>(end <span class="op">-</span> start,<span class="dv">2</span>)<span class="sc">}</span><span class="ss"> Sekunden"</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>For-Loop Dauer: 2.12 Sekunden
List Comprehension Dauer: 1.01 Sekunden</code></pre>
</div>
</div>
<p>Die Zeiten variieren natürlich und werden auf Ihrem System andere Werte annehmen. Probieren Sie es aus!</p>
<p>Ob ein Code, wie in diesem Beispiel, eine Sekunde oder zwei Sekunden benötigt, spielt natürlich keine große Rolle. Der Performance-Unterschied wird nur relevant, wenn sie enorm große Mengen an Daten verarbeiten müssen.</p>
</section>
<section id="fazit-für-die-praxis" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="fazit-für-die-praxis">Fazit für die Praxis</h3>
<p>List Comprehensions sind oft eine gute Wahl, wenn eine neue Liste erzeugt werden soll. Sie führen in der Regel zu kürzerem und verständlicherem Code. Allerdings sollte man sie nur verwenden, wenn Bedingungen und Ausdrücke einfach genug sind, um die Lesbarkeit nicht zu gefährden. Bei komplexerer Logik ist eine klassische Schleife oft die bessere Wahl, um die Wartbarkeit zu sichern. Sollte Performance eine entscheidende Rolle spielen, kann es sich lohnen, größere Schleifen in eine List Comprehension umzuschreiben – vorausgesetzt, die Lesbarkeit bleibt erhalten.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Set- und Dictionary-Comprehensions
</div>
</div>
<div class="callout-body-container callout-body">
<p>Auch mit geschweiften Klammern lassen sich Comprehensions erzeugen, probieren Sie es aus:</p>
<p><code>my_set = {i**2 for i in range(10)}  # Set-Comprehension</code></p>
<p><code>my_dict = {x: x**2 for x in range(10)} # Dict-Comprehension</code></p>
<p><strong>Hinweis:</strong> Wenn man stattdessen runde Klammern verwendet, entsteht <strong>kein Tuple</strong>, wie man erwarten könnte, sondern ein <em>Generator-Objekt</em>. Generatoren gehen über den Rahmen dieser Einführung hinaus. Hier sei nur erwähnt, dass das Generator-Objekt an die Funktion <code>tuple()</code> übergeben werden kann, um auf diese Weise ein Tuple zu erzeugen:</p>
<p><code>my_tuple = tuple((i**2 for i in range(10)))  # Generator-Objekt wird an tuple() übergeben</code></p>
<p>So erhält man funktional eine <em>Tuple-Comprehension</em>, obwohl es dafür in Python keine direkte Syntax gibt.</p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../notebooks/5-functions.html" class="pagination-link" aria-label="Funktionen">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Funktionen</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../notebooks/7-bibs.html" class="pagination-link" aria-label="Die Verwendung von Bibliotheken">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Die Verwendung von Bibliotheken</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>